



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>Custom data source - aequos Modern Data Visualizer solution for SharePoint Online</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=:300,400,400i,700|Ubuntu+Mono&display=fallback">
        <style>body,input{font-family:"","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Ubuntu Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../assets/extra.css">
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="black" data-md-color-accent="">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#create-a-custom-data-source" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="aequos Modern Data Visualizer solution for SharePoint Online" class="md-header-nav__button md-logo">
          
            <img src="../../assets/aequos_logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              aequos Modern Data Visualizer solution for SharePoint Online
            </span>
            <span class="md-header-nav__topic">
              
                Custom data source
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/aequos-solutions/aequos.github.io/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../.." class="md-tabs__link">
          Getting Started
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../usage/data-visualizer/" class="md-tabs__link">
          Data Visualizer
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../usage/data-filters/" class="md-tabs__link">
          Data Filters
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../usage/data-verticals/" class="md-tabs__link">
          Data Verticals
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../usage/search-box/" class="md-tabs__link">
          Search Box
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../" class="md-tabs__link md-tabs__link--active">
          Extensibility
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="aequos Modern Data Visualizer solution for SharePoint Online" class="md-nav__button md-logo">
      
        <img src="../../assets/aequos_logo.png" width="48" height="48">
      
    </a>
    aequos Modern Data Visualizer solution for SharePoint Online
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/aequos-solutions/aequos.github.io/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      Getting Started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installation/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../setup_standalone/" title="Activate a standalone license" class="md-nav__link">
      Activate a standalone license
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting_started/connections_chart/" title="Connections overview" class="md-nav__link">
      Connections overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../getting_started/sample_scenarios/" title="Sample scenarios" class="md-nav__link">
      Sample scenarios
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Data Visualizer
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Data Visualizer
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/data-visualizer/" title="Usage" class="md-nav__link">
      Usage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/data-visualizer/data-sources/" title="Data sources" class="md-nav__link">
      Data sources
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/data-visualizer/slots/" title="Slots" class="md-nav__link">
      Slots
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/data-visualizer/tokens/" title="Tokens" class="md-nav__link">
      Tokens
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/data-visualizer/layouts/" title="Layouts" class="md-nav__link">
      Layouts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/data-visualizer/connections/" title="Connections" class="md-nav__link">
      Connections
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Extensibility" class="md-nav__link">
      Extensibility
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Data Filters
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Data Filters
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/data-filters/" title="Usage" class="md-nav__link">
      Usage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/data-filters/layouts/" title="Layouts" class="md-nav__link">
      Layouts
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Data Verticals
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Data Verticals
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/data-verticals/" title="Usage" class="md-nav__link">
      Usage
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Search Box
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Search Box
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/search-box/" title="Usage" class="md-nav__link">
      Usage
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Extensibility
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Extensibility
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../templating/" title="Templating" class="md-nav__link">
      Templating
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Custom data source
      </label>
    
    <a href="./" title="Custom data source" class="md-nav__link md-nav__link--active">
      Custom data source
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#data-source-creation-process" class="md-nav__link">
    Data source creation process
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-the-data-source-logic" class="md-nav__link">
    Create the data source logic
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basedatasource-methods" class="md-nav__link">
    BaseDataSource - Methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#basedatasource-properties" class="md-nav__link">
    BaseDataSource - Properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-service-scope-to-get-service-instances" class="md-nav__link">
    Using service scope to get service instances
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-data-source-information" class="md-nav__link">
    Register data source information
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../custom_layout/" title="Custom layout" class="md-nav__link">
      Custom layout
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../custom_web_component/" title="Custom web component" class="md-nav__link">
      Custom web component
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../custom_suggestions_provider/" title="Custom suggestions provider" class="md-nav__link">
      Custom suggestions provider
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../handlebars_customizations/" title="Custom Handlebars customizations" class="md-nav__link">
      Custom Handlebars customizations
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#data-source-creation-process" class="md-nav__link">
    Data source creation process
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-the-data-source-logic" class="md-nav__link">
    Create the data source logic
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basedatasource-methods" class="md-nav__link">
    BaseDataSource - Methods
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#basedatasource-properties" class="md-nav__link">
    BaseDataSource - Properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#using-service-scope-to-get-service-instances" class="md-nav__link">
    Using service scope to get service instances
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#register-data-source-information" class="md-nav__link">
    Register data source information
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/aequos-solutions/aequos.github.io/blob/master/docs/extensibility/custom_data_source.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="create-a-custom-data-source">Create a custom data source<a class="headerlink" href="#create-a-custom-data-source" title="Permanent link">&para;</a></h1>
<p><img alt="&quot;Custom data source&quot;" class="center" src="../../assets/extensibility/data_source/custom_data_source.png" /></p>
<h2 id="data-source-creation-process">Data source creation process<a class="headerlink" href="#data-source-creation-process" title="Permanent link">&para;</a></h2>
<p>Data source creation process comes in two distinct steps:</p>
<ol>
<li><a href="#create-the-data-source-logic">Create the data source itself (i.e. the logic to get data, etc.)</a>.</li>
<li><a href="#register-data-source-information">Register the data source information for discovery</a>.</li>
</ol>
<h3 id="create-the-data-source-logic">Create the data source logic<a class="headerlink" href="#create-the-data-source-logic" title="Permanent link">&para;</a></h3>
<p>The first step is to create the core logic of the data source:</p>
<ul>
<li>In your extensibility library project, create a new <code>MyDataSource.ts</code> TypeScript file.</li>
<li>Create an interface for your data source properties, typically the ones you want to persist in the Web Part property bag. Data source properties are isolated from the other general Web Part properties under the property <code>dataSourceProperties</code> in the property bag object.</li>
</ul>
<div class="codehilite"><pre><span></span>    <span class="kr">export</span> <span class="kr">interface</span> <span class="nx">ICustomDataSourceProperties</span> <span class="p">{</span>
        <span class="nx">myProperty</span>: <span class="kt">string</span><span class="p">;</span>
    <span class="p">}</span>
</pre></div>


<p><img alt="&quot;Custom data source properties&quot;" class="center" src="../../assets/extensibility/data_source/data_source_properties.png" /></p>
<ul>
<li>Implement the <code>BaseDataSource</code> abstract class using your properties interface:</li>
</ul>
<div class="codehilite"><pre><span></span>    <span class="kr">export</span> <span class="kr">class</span> <span class="nx">CustomDataSource</span> <span class="kr">extends</span> <span class="nx">BaseDataSource</span><span class="o">&lt;</span><span class="nx">ICustomDataSourceProperties</span><span class="o">&gt;</span> <span class="p">{</span>
        <span class="p">...</span>
    <span class="p">}</span>
</pre></div>


<ul>
<li>Implement your data source logic according to the available methods and properties.</li>
</ul>
<h4 id="basedatasource-methods">BaseDataSource - Methods<a class="headerlink" href="#basedatasource-methods" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>onInit()</code></td>
<td>The initialization method of your data source (ex: initialize your properties, etc.). You can perform asynchronous calls here. This method will be called when the data source is instanciated by the main Web Part.</td>
</tr>
<tr>
<td><code>getData()</code></td>
<td>Probably the most important method in a data source. Returns the data of your data source, for instance, after an asynchronous call to your API. The data must follow the <code>IDataSourceData</code> interface. As input, you will receive all the data context with useful information to get your data (ex: the current selected page, current selected filters, etc.).</td>
</tr>
<tr>
<td><code>getPropertyPaneGroupsConfiguration()</code></td>
<td>Returns the property pane fields to display when your data source is selected. These are regular SPFx property fields and groups. Data source properties are isolated from the other general Web Part properties under the property <code>dataSourceProperties</code>. It means you must include that path in your property pane controls get the value persisted: </br> <p align="center"><img alt="&quot;Custom data source properties&quot;" src="../../assets/extensibility/data_source/property_bag.png" /></p>. Defining fields or groups is not mandatory for a data source. If you don't want to expose any option, just return an empty array.</td>
</tr>
<tr>
<td><code>getPagingBehavior()</code></td>
<td>The paging behavior of the data source. If <strong>'Dynamic'</strong>, the paging will be done using the pre-calculated <code>paging.links</code> array property returned by the data source. In this mode, this is your responsibility to populate these links (ex: using a <code>@odata.nextLink</code> information from your API). If <strong>'Static'</strong>, the paging will be done statically based on the <code>items</code> array property returned by the data source. If <strong>'None'</strong>, no paging will be performed.</td>
</tr>
<tr>
<td><code>getFilterBehavior()</code></td>
<td>The filter behavior of the data source. If <strong>'Dynamic'</strong>, the available filters and values will be the ones returned by the data source in the <code>filters</code> array property. If <strong>'Static'</strong>, the available filters and values will be determined using the current results set returned by the data source (using objects properties from the <code>items</code> array property).</td>
</tr>
<tr>
<td><code>getAppliedFilters()</code></td>
<td>If any, returns the list of filters (i.e data source fields) applied by the data source to filter results. Set this information in your data source is <code>FilterType.Static</code> but you still want filter initial result with 'Static' filters (like Taxonomy Picker and Date Range). These will be excluded by the main Web Part during the static filtering operation. If you forgot to set these values, data will be filtered statically using the current selected filters.</td>
</tr>
<tr>
<td><code>getItemCount()</code></td>
<td>Returns the total of items. This can be the <code>items</code> array length or the total of items in general. This information will be used to generate page numbers.</td>
</tr>
<tr>
<td><code>getTemplateSlots()</code></td>
<td>Returns the available template slots for this data source. <a href="../../usage/data-visualizer/slots/">More information about slots</a>.</td>
</tr>
<tr>
<td><code>onPropertyUpdate()</code></td>
<td>The method will be called when a property pane value is updated. The main Web Part in <code>Reactive</code> mode for property pane fields.</td>
</tr>
<tr>
<td><code>render()</code></td>
<td>Call this method to force a render of the main Web Part.</td>
</tr>
</tbody>
</table>
<h4 id="basedatasource-properties">BaseDataSource - Properties<a class="headerlink" href="#basedatasource-properties" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>properties</code></td>
<td>The Web Part properties in the property bag. Corresponds to the isolated <code>dataSourceProperties</code> property in the global property bag. You won't be able to access any other general properties of the Web Part.</td>
</tr>
<tr>
<td><code>context</code></td>
<td>The Web Part context given by the main Web Part.</td>
</tr>
<tr>
<td><code>serviceKeys</code></td>
<td>The available service scope keys you can use to get shared service instances like the <code>TokenService</code>. Example: </br> <p align="center"><img alt="&quot;Service keys usage&quot;" src="../../assets/extensibility/data_source/service_keys.png" /></p></td>
</tr>
</tbody>
</table>
<h4 id="using-service-scope-to-get-service-instances">Using service scope to get service instances<a class="headerlink" href="#using-service-scope-to-get-service-instances" title="Permanent link">&para;</a></h4>
<p>If your data source needs to use <code>SPHttpClient</code>, <code>HttpClient</code>, etc. services to retrieve data, you have multiple ways to get instances for these.</p>
<ul>
<li>Use the <code>this.context</code> property:</li>
</ul>
<div class="codehilite"><pre><span></span>    <span class="kr">const</span> <span class="nx">spHttpClient</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">spHttpClient</span><span class="p">;</span>
</pre></div>


<p><strong>OR</strong></p>
<ul>
<li>Use the parent service scope to consume an existing instance:</li>
</ul>
<div class="codehilite"><pre><span></span>    <span class="kr">private</span> <span class="nx">spHttpClient</span>: <span class="kt">SPHttpClient</span><span class="p">;</span>

    <span class="kr">constructor</span><span class="p">(</span><span class="nx">serviceScope</span>: <span class="kt">ServiceScope</span><span class="p">)</span> <span class="p">{</span>

        <span class="kr">super</span><span class="p">(</span><span class="nx">serviceScope</span><span class="p">);</span>

        <span class="nx">serviceScope</span><span class="p">.</span><span class="nx">whenFinished</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">spHttpClient</span> <span class="o">=</span> <span class="nx">serviceScope</span><span class="p">.</span><span class="nx">consume</span><span class="p">(</span><span class="nx">SPHttpClient</span><span class="p">.</span><span class="nx">serviceKey</span><span class="p">);</span>
        <span class="p">});</span>
    <span class="p">}</span>
</pre></div>


<blockquote>
<p>We recommend to use the second approach especially if you also use shared instances like the <code>TokenService</code>.</p>
</blockquote>
<h3 id="register-data-source-information">Register data source information<a class="headerlink" href="#register-data-source-information" title="Permanent link">&para;</a></h3>
<p>The next step is to fill information about your new data source. In the library main entry point (i.e. the class implementing the <code>IExtensibilityLibrary</code> in interface) return a new <code>IDataSourceDefinition</code> object in the <code>getCustomDataSources()</code> method using these properties: </p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>name</code></td>
<td>The friendly name of your data source that will show up in tiles.</td>
</tr>
<tr>
<td><code>iconName</code></td>
<td>An Office UI Fabric icon for your data source.</td>
</tr>
<tr>
<td><code>key</code></td>
<td>An unique internal key for your data source.</td>
</tr>
<tr>
<td><code>serviceKey</code></td>
<td>A service key used to instanciate your data source class. Builtin or custom data sources are instanciated dynamically using <a href="https://docs.microsoft.com/en-us/javascript/api/sp-core-library/servicescope?view=sp-typescript-latest">SPFx service scopes</a>.</td>
</tr>
</tbody>
</table>
<div class="codehilite"><pre><span></span>  <span class="kr">public</span> <span class="nx">getCustomDataSources</span><span class="p">()</span><span class="o">:</span> <span class="nx">IDataSourceDefinition</span><span class="p">[]</span> <span class="p">{</span>

    <span class="k">return</span> <span class="p">[</span>
      <span class="p">{</span>
          <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;My Custom Source&#39;</span><span class="p">,</span>
          <span class="nx">iconName</span><span class="o">:</span> <span class="s1">&#39;Code&#39;</span><span class="p">,</span>
          <span class="nx">key</span><span class="o">:</span> <span class="s1">&#39;CustomDataSource&#39;</span><span class="p">,</span>
          <span class="nx">serviceKey</span>: <span class="kt">ServiceKey.create</span><span class="o">&lt;</span><span class="nx">IDataSource</span><span class="o">&gt;</span><span class="p">(</span><span class="s1">&#39;MyCompany:CustomDataSource&#39;</span><span class="p">,</span> <span class="nx">CustomDataSource</span><span class="p">)</span>
      <span class="p">},</span>
    <span class="p">];</span>
  <span class="p">}</span>
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../templating/" title="Templating" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Templating
              </span>
            </div>
          </a>
        
        
          <a href="../custom_layout/" title="Custom layout" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Custom layout
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://twitter.com/aequos_ca" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="www.aequos.ca" class="md-footer-social__link fa fa-link"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>